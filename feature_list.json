[
  {
    "category": "functional",
    "description": "Module structure follows wa-monitor pattern with proper directory organization",
    "steps": [
      "Navigate to src/modules/foto-review/",
      "Verify components/ directory exists",
      "Verify services/ directory exists",
      "Verify hooks/ directory exists",
      "Verify types/ directory exists",
      "Verify README.md exists"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "TypeScript types are properly defined in types/index.ts",
    "steps": [
      "Open src/modules/foto-review/types/index.ts",
      "Verify EvaluationResult type is defined",
      "Verify PhotoMetadata type is defined",
      "Verify FeedbackStatus type is defined",
      "Verify all types have proper JSDoc comments"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "PhotoGallery component renders DR photos in grid layout",
    "steps": [
      "Navigate to /foto-review page",
      "Select a DR with multiple photos",
      "Verify photos display in grid format",
      "Verify all photos load correctly",
      "Verify grid is responsive on mobile"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "PhotoGallery supports click-to-enlarge functionality",
    "steps": [
      "Navigate to /foto-review page",
      "Select a DR with photos",
      "Click on any photo in grid",
      "Verify photo opens in enlarged modal/lightbox",
      "Verify modal can be closed",
      "Verify navigation between photos in modal"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "AIEvaluationCard displays evaluation results correctly",
    "steps": [
      "Navigate to /foto-review page",
      "Select evaluated DR",
      "Verify overall status (PASS/FAIL) is displayed",
      "Verify score is shown (e.g., 7.5/10)",
      "Verify step count is shown (e.g., 8/12 passed)",
      "Verify card styling matches FibreFlow theme"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "EvaluationResults shows detailed step-by-step breakdown",
    "steps": [
      "Navigate to /foto-review page",
      "Select evaluated DR",
      "View detailed results section",
      "Verify all 12 steps are listed",
      "Verify each step shows PASS/FAIL status",
      "Verify each step shows score",
      "Verify each step shows AI comments"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "FeedbackButton triggers WhatsApp message sending",
    "steps": [
      "Navigate to /foto-review page",
      "Select evaluated DR",
      "Click 'Send Feedback' button",
      "Verify confirmation dialog appears",
      "Confirm sending",
      "Verify success message displays",
      "Verify feedback_sent flag is updated in database"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "fotoEvaluationService handles API calls correctly",
    "steps": [
      "Open src/modules/foto-review/services/fotoEvaluationService.ts",
      "Verify evaluateDR function exists",
      "Verify getEvaluation function exists",
      "Verify sendFeedback function exists",
      "Verify error handling is implemented",
      "Verify TypeScript types are used"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "useFotoEvaluation hook manages evaluation state",
    "steps": [
      "Open src/modules/foto-review/hooks/useFotoEvaluation.ts",
      "Verify hook returns evaluation state",
      "Verify hook returns loading state",
      "Verify hook returns error state",
      "Verify hook provides evaluate function",
      "Test hook in component context"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "usePhotos hook fetches photo data",
    "steps": [
      "Open src/modules/foto-review/hooks/usePhotos.ts",
      "Verify hook fetches photos from API",
      "Verify hook handles loading state",
      "Verify hook handles error state",
      "Verify hook returns photo list",
      "Test hook with real DR number"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "/foto-review page is accessible and renders correctly",
    "steps": [
      "Navigate to https://app.fibreflow.app/foto-review",
      "Verify page loads without errors",
      "Verify page uses AppLayout",
      "Verify authentication is required",
      "Verify unauthenticated users are redirected"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Foto-review page has left sidebar with DR list",
    "steps": [
      "Navigate to /foto-review",
      "Verify left sidebar is visible",
      "Verify sidebar shows list of DRs",
      "Verify each DR shows status (evaluated/pending)",
      "Verify DRs can be selected",
      "Verify selected DR is highlighted"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "DR list can be filtered by project",
    "steps": [
      "Navigate to /foto-review",
      "Locate project filter dropdown",
      "Select 'Lawley' project",
      "Verify only Lawley DRs are shown",
      "Select 'All Projects'",
      "Verify all DRs are shown again"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "DR list can be filtered by date range",
    "steps": [
      "Navigate to /foto-review",
      "Click date range filter",
      "Select start date",
      "Select end date",
      "Verify only DRs within range are shown",
      "Clear filter",
      "Verify all DRs return"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "DR list can be filtered by evaluation status",
    "steps": [
      "Navigate to /foto-review",
      "Click status filter dropdown",
      "Select 'Evaluated'",
      "Verify only evaluated DRs shown",
      "Select 'Pending'",
      "Verify only pending DRs shown",
      "Select 'All'",
      "Verify all DRs shown"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Main area displays photo gallery for selected DR",
    "steps": [
      "Navigate to /foto-review",
      "Select a DR from list",
      "Verify main area updates",
      "Verify photo gallery displays",
      "Verify all DR photos are shown",
      "Verify gallery is properly formatted"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Photo metadata is displayed for each photo",
    "steps": [
      "Navigate to /foto-review",
      "Select DR with photos",
      "Hover over a photo",
      "Verify photo filename is shown",
      "Verify photo timestamp is shown",
      "Verify photo step label is shown (e.g., 'House Photo')"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "'Evaluate with AI' button triggers evaluation",
    "steps": [
      "Navigate to /foto-review",
      "Select unevaluated DR",
      "Click 'Evaluate with AI' button",
      "Verify button shows loading state",
      "Wait for evaluation to complete",
      "Verify results are displayed",
      "Verify button is disabled after evaluation"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Loading state is shown during AI evaluation",
    "steps": [
      "Navigate to /foto-review",
      "Select unevaluated DR",
      "Click 'Evaluate with AI'",
      "Verify loading spinner appears",
      "Verify progress message is shown",
      "Verify UI is non-interactive during loading",
      "Verify loading clears when complete"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Evaluation results show overall PASS/FAIL status",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR with PASS status",
      "Verify 'PASS' badge is green",
      "Select evaluated DR with FAIL status",
      "Verify 'FAIL' badge is red",
      "Verify badge is prominent and clear"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Evaluation results display overall score out of 10",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR",
      "Locate overall score display",
      "Verify score is shown as X.X/10",
      "Verify score is formatted to 1 decimal place",
      "Verify score color matches status (green for high, red for low)"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Evaluation shows step count (e.g., 8/12 passed)",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR",
      "Locate step count display",
      "Verify format is 'X/12 steps passed'",
      "Verify count matches detailed results",
      "Verify visual indicator (progress bar or fraction)"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Detailed step breakdown lists all 12 installation steps",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR",
      "Scroll to detailed results section",
      "Count number of steps listed",
      "Verify exactly 12 steps are shown",
      "Verify step names match foto_prompts.py steps",
      "Verify steps are in correct order"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Each step shows individual PASS/FAIL status",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR",
      "View detailed step results",
      "Verify each step has status badge",
      "Verify passed steps show green checkmark",
      "Verify failed steps show red X",
      "Verify status matches AI evaluation"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Each step displays individual score",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR",
      "View detailed step results",
      "Verify each step shows score (0-10)",
      "Verify score is formatted consistently",
      "Verify score colors indicate quality (red/yellow/green)"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Each step shows AI-generated comments",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR",
      "View detailed step results",
      "Verify each step has comment text",
      "Verify comments are readable and relevant",
      "Verify comments match evaluation criteria",
      "Verify long comments are properly wrapped"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Feedback preview shows formatted WhatsApp message",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR",
      "Click 'Send Feedback' button",
      "Verify preview dialog appears",
      "Verify message includes DR number",
      "Verify message includes overall status",
      "Verify message includes score",
      "Verify message includes key failure points",
      "Verify message is professionally formatted"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Feedback can be sent to field agent via WhatsApp",
    "steps": [
      "Navigate to /foto-review",
      "Select evaluated DR",
      "Click 'Send Feedback'",
      "Review preview",
      "Click 'Confirm Send'",
      "Verify API call to wa-monitor service",
      "Verify success toast appears",
      "Check WhatsApp group for message",
      "Verify message received correctly"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Feedback sent status is tracked in database",
    "steps": [
      "Send feedback for a DR",
      "Query foto_ai_reviews table",
      "Verify feedback_sent = true",
      "Verify updated_at timestamp is recent",
      "Reload page",
      "Verify 'Send Feedback' button shows 'Sent' state"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Cannot send feedback twice for same evaluation",
    "steps": [
      "Navigate to /foto-review",
      "Select DR with feedback already sent",
      "Verify 'Send Feedback' button is disabled",
      "Verify button shows 'Feedback Sent' text",
      "Verify timestamp of when feedback was sent is shown"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint GET /api/foto/photos returns photo list",
    "steps": [
      "Make GET request to /api/foto/photos",
      "Verify 200 response",
      "Verify JSON array of DRs returned",
      "Verify each DR has photo URLs",
      "Verify response matches TypeScript types",
      "Verify pagination works if implemented"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint GET /api/foto/photos supports project filtering",
    "steps": [
      "Make GET request to /api/foto/photos?project=Lawley",
      "Verify only Lawley DRs returned",
      "Make request without filter",
      "Verify all DRs returned",
      "Verify invalid project returns empty array or error"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint GET /api/foto/photos supports date filtering",
    "steps": [
      "Make GET request with startDate and endDate params",
      "Verify only DRs within range returned",
      "Verify date parsing is correct",
      "Verify timezone handling is proper",
      "Test edge cases (same day, null dates)"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint POST /api/foto/evaluate accepts DR number",
    "steps": [
      "Make POST request to /api/foto/evaluate",
      "Send body: { dr_number: 'DR1234567' }",
      "Verify request is accepted",
      "Verify Content-Type is application/json",
      "Verify 400 error if dr_number missing",
      "Verify 400 error if dr_number invalid format"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint POST /api/foto/evaluate calls Python script via child_process",
    "steps": [
      "Send evaluation request",
      "Monitor server logs",
      "Verify Python script is spawned",
      "Verify environment variables are passed",
      "Verify script runs with correct arguments",
      "Verify script output is captured"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint POST /api/foto/evaluate returns evaluation results",
    "steps": [
      "Send evaluation request for valid DR",
      "Wait for response",
      "Verify 200 status code",
      "Verify response contains overall_status",
      "Verify response contains average_score",
      "Verify response contains step_results array",
      "Verify response matches TypeScript types"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint POST /api/foto/evaluate handles Python errors gracefully",
    "steps": [
      "Send evaluation for non-existent DR",
      "Verify 404 or 500 error returned",
      "Verify error message is descriptive",
      "Simulate Python script crash",
      "Verify error is caught and returned",
      "Verify no uncaught exceptions"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint POST /api/foto/evaluate saves results to database",
    "steps": [
      "Send evaluation request",
      "Wait for completion",
      "Query foto_ai_reviews table",
      "Verify row exists for DR",
      "Verify all columns populated correctly",
      "Verify timestamps are set",
      "Verify JSONB step_results is valid JSON"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint GET /api/foto/evaluation/[dr_number] fetches cached evaluation",
    "steps": [
      "Evaluate a DR first",
      "Make GET request to /api/foto/evaluation/DR1234567",
      "Verify 200 response",
      "Verify cached results returned",
      "Verify results match original evaluation",
      "Make request for unevaluated DR",
      "Verify 404 response"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint GET /api/foto/evaluation/[dr_number] validates DR format",
    "steps": [
      "Send request with invalid DR format",
      "Verify 400 error returned",
      "Verify error message explains format",
      "Send request with SQL injection attempt",
      "Verify request is sanitized/rejected"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint POST /api/foto/feedback sends WhatsApp message",
    "steps": [
      "Send feedback request for evaluated DR",
      "Verify request to wa-monitor service is made",
      "Verify message is formatted correctly",
      "Verify WhatsApp message is sent",
      "Check WhatsApp for received message",
      "Verify message content matches evaluation"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "API endpoint POST /api/foto/feedback updates database flag",
    "steps": [
      "Send feedback request",
      "Verify 200 response",
      "Query foto_ai_reviews table",
      "Verify feedback_sent = true",
      "Verify updated_at timestamp updated",
      "Send duplicate feedback request",
      "Verify 409 conflict or appropriate error"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "API endpoint POST /api/foto/feedback validates evaluation exists",
    "steps": [
      "Send feedback for unevaluated DR",
      "Verify 404 error returned",
      "Verify error message indicates no evaluation found",
      "Verify database is not modified"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "All API endpoints require authentication",
    "steps": [
      "Make request without auth token",
      "Verify 401 Unauthorized response",
      "Make request with invalid token",
      "Verify 401 response",
      "Make request with valid token",
      "Verify request succeeds"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "All API endpoints use proper error handling",
    "steps": [
      "Test each endpoint with invalid input",
      "Verify errors are caught",
      "Verify error responses follow standard format",
      "Verify status codes are appropriate",
      "Verify error messages are user-friendly",
      "Verify no stack traces leak to client in production"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "All API endpoints return standardized JSON responses",
    "steps": [
      "Test each endpoint",
      "Verify all responses are valid JSON",
      "Verify success responses include data property",
      "Verify error responses include error property",
      "Verify TypeScript types match responses"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "WhatsApp feedback message includes DR number",
    "steps": [
      "Send feedback for DR1234567",
      "Check WhatsApp message",
      "Verify DR number appears in message header",
      "Verify DR number is formatted correctly",
      "Verify DR number is prominent"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "WhatsApp feedback message shows overall status prominently",
    "steps": [
      "Send feedback for FAIL evaluation",
      "Check WhatsApp message",
      "Verify 'FAIL' status is clearly shown",
      "Verify emoji or icon is used (❌)",
      "Send feedback for PASS evaluation",
      "Verify 'PASS' status shown with ✅"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "WhatsApp feedback message includes overall score",
    "steps": [
      "Send feedback for evaluated DR",
      "Check WhatsApp message",
      "Verify score is shown (e.g., 7.5/10)",
      "Verify score is formatted to 1 decimal",
      "Verify score is in prominent location"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "WhatsApp feedback message lists passed/failed steps count",
    "steps": [
      "Send feedback",
      "Check WhatsApp message",
      "Verify step count shown (e.g., 8/12 passed)",
      "Verify count matches evaluation results"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "WhatsApp feedback message highlights key failures",
    "steps": [
      "Send feedback for failed evaluation",
      "Check WhatsApp message",
      "Verify failed steps are listed",
      "Verify failure reasons are included",
      "Verify formatting makes failures clear (bullets or numbering)",
      "Verify message is concise (not overwhelming)"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "WhatsApp feedback message includes actionable guidance",
    "steps": [
      "Send feedback for failed evaluation",
      "Check WhatsApp message",
      "Verify message includes what to do next",
      "Verify guidance is specific (not generic)",
      "Verify tone is constructive (not negative)"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "WhatsApp feedback message is professionally formatted",
    "steps": [
      "Send feedback",
      "Check WhatsApp message",
      "Verify proper line breaks",
      "Verify emojis enhance readability",
      "Verify no typos or grammar errors",
      "Verify message is not too long",
      "Verify message is mobile-friendly"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Navigation menu includes 'Photo Review' item",
    "steps": [
      "Login to FibreFlow app",
      "Open main navigation menu",
      "Verify 'Photo Review' menu item exists",
      "Verify menu item has appropriate icon (camera/photo)",
      "Verify menu item is in logical position"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Clicking 'Photo Review' navigates to /foto-review",
    "steps": [
      "Open navigation menu",
      "Click 'Photo Review'",
      "Verify URL changes to /foto-review",
      "Verify page loads correctly",
      "Verify navigation item is highlighted/active"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Photo Review page requires authentication",
    "steps": [
      "Logout if logged in",
      "Navigate to /foto-review directly",
      "Verify redirect to login page",
      "Login with valid credentials",
      "Verify redirect back to /foto-review",
      "Verify page loads successfully"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Navigation types are updated for TypeScript",
    "steps": [
      "Open navigation type definitions",
      "Verify 'foto-review' route is typed",
      "Verify no TypeScript errors",
      "Verify autocomplete works in IDE",
      "Run type check: npm run type-check",
      "Verify no errors related to navigation"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Python backend is deployed to /opt/foto-evaluator on VPS",
    "steps": [
      "SSH into Hostinger VPS",
      "Navigate to /opt/foto-evaluator",
      "Verify evaluate_dr.py exists",
      "Verify foto_verifier.py exists",
      "Verify foto_prompts.py exists",
      "Verify foto_config.py exists",
      "Verify .env file exists and is configured"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Python virtual environment is set up correctly",
    "steps": [
      "SSH into VPS",
      "Navigate to /opt/foto-evaluator",
      "Verify venv/ directory exists",
      "Activate venv",
      "Verify Python version is 3.9+",
      "Verify pip list shows required packages",
      "Verify openai package is installed"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Python script can be executed manually",
    "steps": [
      "SSH into VPS",
      "Activate foto-evaluator venv",
      "Run: python evaluate_dr.py DR1234567",
      "Verify script executes without errors",
      "Verify JSON output is produced",
      "Verify output contains expected fields"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Node.js can spawn Python process successfully",
    "steps": [
      "Trigger evaluation from web UI",
      "Monitor server logs",
      "Verify child_process.spawn logs",
      "Verify Python process starts",
      "Verify process completes",
      "Verify output is captured",
      "Verify process exit code is 0"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Environment variables are passed to Python correctly",
    "steps": [
      "Set OPENAI_API_KEY in Next.js env",
      "Trigger evaluation",
      "Verify Python receives env variables",
      "Check Python logs for API key usage",
      "Verify OpenAI API calls succeed"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Database connection works from API routes",
    "steps": [
      "Make API call that queries database",
      "Verify connection successful",
      "Verify query executes",
      "Verify results returned",
      "Check for connection pool errors",
      "Verify connections are released"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Database table foto_ai_reviews exists with correct schema",
    "steps": [
      "Connect to Neon PostgreSQL",
      "Run: \\d foto_ai_reviews",
      "Verify all columns exist",
      "Verify dr_number is PRIMARY KEY",
      "Verify step_results is JSONB type",
      "Verify indexes are created",
      "Verify constraints are in place"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Database queries use parameterized statements",
    "steps": [
      "Review database service code",
      "Verify all queries use parameters",
      "Verify no string concatenation for SQL",
      "Test with SQL injection attempts",
      "Verify queries are safe"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Database errors are handled gracefully",
    "steps": [
      "Simulate connection failure",
      "Verify error is caught",
      "Verify user-friendly error shown",
      "Simulate query timeout",
      "Verify timeout is handled",
      "Verify app remains stable"
    ],
    "passes": true
  },
  {
    "category": "functional",
    "description": "Evaluation results are persisted correctly",
    "steps": [
      "Evaluate a DR",
      "Query database directly",
      "Verify row inserted",
      "Verify all fields populated",
      "Verify JSONB data is valid",
      "Verify timestamps are UTC",
      "Re-evaluate same DR",
      "Verify row is updated (not duplicated)"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Photo Review page uses FibreFlow color scheme",
    "steps": [
      "Navigate to /foto-review",
      "Take screenshot",
      "Compare colors to main app",
      "Verify primary colors match",
      "Verify accent colors match",
      "Verify background colors match"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Photo Review page uses Tailwind CSS classes",
    "steps": [
      "Inspect page elements",
      "Verify Tailwind classes used (not inline styles)",
      "Verify custom CSS is minimal",
      "Verify responsive classes used (sm:, md:, lg:)",
      "Run build and verify no Tailwind purge warnings"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Photo Review page uses shadcn/ui components",
    "steps": [
      "Review page code",
      "Verify Button component from shadcn/ui",
      "Verify Card component used",
      "Verify Badge component used",
      "Verify Dialog component used",
      "Verify Toast component used",
      "Verify components are themed consistently"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Photo Review page is mobile responsive",
    "steps": [
      "Open page on mobile device or emulator",
      "Verify layout adjusts properly",
      "Verify sidebar becomes collapsible on mobile",
      "Verify photo grid stacks vertically",
      "Verify buttons are touch-friendly",
      "Verify text is readable without zooming",
      "Test on 320px width (iPhone SE)",
      "Test on 768px width (tablet)"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Photo Review page supports dark mode",
    "steps": [
      "Toggle dark mode in app settings",
      "Navigate to /foto-review",
      "Verify page renders correctly in dark mode",
      "Verify contrast is sufficient",
      "Verify all text is readable",
      "Verify images/photos display well",
      "Toggle back to light mode",
      "Verify page still works"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Photo gallery has professional grid layout",
    "steps": [
      "View photo gallery",
      "Verify grid spacing is even",
      "Verify photos are same size",
      "Verify grid adjusts to screen size",
      "Verify aspect ratios maintained",
      "Verify no awkward gaps or overlaps"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Photo gallery images load with proper aspect ratio",
    "steps": [
      "Load page with slow connection",
      "Verify placeholder maintains aspect ratio",
      "Verify no layout shift when images load",
      "Verify images don't stretch or squish",
      "Verify lazy loading works properly"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Enlarged photo modal is full-screen and polished",
    "steps": [
      "Click photo to enlarge",
      "Verify modal fills screen appropriately",
      "Verify background is dimmed/blurred",
      "Verify close button is prominent",
      "Verify navigation arrows are visible",
      "Verify photo is centered and scaled nicely"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Evaluation results use clear visual hierarchy",
    "steps": [
      "View evaluation results",
      "Verify overall status is most prominent",
      "Verify score is large and clear",
      "Verify step details are organized",
      "Verify passed steps look distinct from failed",
      "Verify spacing guides the eye logically"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "PASS status uses green color consistently",
    "steps": [
      "View PASS evaluation",
      "Verify PASS badge is green",
      "Verify passed steps show green checkmarks",
      "Verify green shade is consistent throughout",
      "Verify green is accessible (sufficient contrast)"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "FAIL status uses red color consistently",
    "steps": [
      "View FAIL evaluation",
      "Verify FAIL badge is red",
      "Verify failed steps show red X marks",
      "Verify red shade is consistent",
      "Verify red is accessible (sufficient contrast)"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Loading states have smooth animations",
    "steps": [
      "Trigger evaluation",
      "Observe loading spinner",
      "Verify animation is smooth (60fps)",
      "Verify animation doesn't cause layout shift",
      "Verify loading message is visible",
      "Verify animation stops when loading completes"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Buttons have proper hover and active states",
    "steps": [
      "Hover over 'Evaluate with AI' button",
      "Verify hover effect appears",
      "Click button",
      "Verify active/pressed state",
      "Test all buttons on page",
      "Verify states are consistent"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Disabled buttons are visually distinct",
    "steps": [
      "View page with disabled buttons",
      "Verify disabled buttons are grayed out",
      "Verify cursor changes to not-allowed",
      "Verify button cannot be clicked",
      "Verify tooltip explains why disabled"
    ],
    "passes": true
  },
  {
    "category": "style",
    "description": "Toast notifications are styled properly",
    "steps": [
      "Trigger success action (send feedback)",
      "Verify success toast appears",
      "Verify toast is green with checkmark",
      "Trigger error action",
      "Verify error toast is red with X",
      "Verify toasts auto-dismiss after 3-5 seconds",
      "Verify toasts can be manually dismissed"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Feedback preview dialog is well-designed",
    "steps": [
      "Open feedback preview",
      "Verify dialog is centered",
      "Verify background is dimmed",
      "Verify dialog has proper padding",
      "Verify message preview is formatted",
      "Verify action buttons are clear",
      "Verify dialog can be closed with X or Cancel"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "DR list sidebar is visually organized",
    "steps": [
      "View DR list sidebar",
      "Verify DRs are clearly separated",
      "Verify selected DR is highlighted",
      "Verify status badges are visible",
      "Verify scrolling works smoothly",
      "Verify list is not cramped"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Filter controls are intuitive and accessible",
    "steps": [
      "Locate filter controls",
      "Verify filters are grouped logically",
      "Verify filter labels are clear",
      "Verify dropdowns open smoothly",
      "Verify selected filter values are visible",
      "Verify clear/reset button exists"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Page header is consistent with app design",
    "steps": [
      "View page header",
      "Compare to other pages (monitoring, projects)",
      "Verify header height matches",
      "Verify title styling matches",
      "Verify breadcrumbs or back button if applicable",
      "Verify header doesn't scroll with content"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Icons are consistent and meaningful",
    "steps": [
      "Review all icons on page",
      "Verify camera/photo icon for gallery",
      "Verify AI/sparkle icon for evaluation",
      "Verify WhatsApp icon for feedback",
      "Verify checkmark for PASS",
      "Verify X for FAIL",
      "Verify icons are same size/style family"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Typography is consistent and readable",
    "steps": [
      "Review page text",
      "Verify headings use consistent font family",
      "Verify body text is 16px or larger",
      "Verify line height is comfortable (1.5 or more)",
      "Verify font weights are used meaningfully",
      "Verify text color has sufficient contrast (WCAG AA)"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Page handles slow network connections gracefully",
    "steps": [
      "Throttle network to Slow 3G",
      "Navigate to /foto-review",
      "Verify page doesn't appear broken",
      "Verify loading indicators show",
      "Verify photos lazy load",
      "Verify functionality remains intact"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Page handles API errors gracefully",
    "steps": [
      "Simulate API server down",
      "Navigate to /foto-review",
      "Verify error message displays",
      "Verify error is user-friendly",
      "Verify retry button is available",
      "Verify page doesn't crash"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Page handles missing photos gracefully",
    "steps": [
      "Select DR with no photos",
      "Verify empty state message displays",
      "Verify message is helpful",
      "Verify page doesn't show broken images",
      "Verify evaluation is disabled or shows warning"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Page handles invalid DR numbers gracefully",
    "steps": [
      "Try to evaluate invalid DR format",
      "Verify validation error displays",
      "Verify error message explains format",
      "Verify no API call is made",
      "Verify page remains functional"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Evaluation timeout is handled properly",
    "steps": [
      "Trigger evaluation that takes too long",
      "Wait for timeout",
      "Verify timeout error displays",
      "Verify user can retry",
      "Verify app doesn't hang indefinitely"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "WhatsApp service unavailable is handled gracefully",
    "steps": [
      "Simulate wa-monitor service down",
      "Try to send feedback",
      "Verify error message displays",
      "Verify error explains service unavailable",
      "Verify user can retry later",
      "Verify database is not corrupted"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Concurrent evaluations are handled correctly",
    "steps": [
      "Open multiple browser tabs",
      "Trigger evaluation in tab 1",
      "Immediately trigger in tab 2 for different DR",
      "Verify both complete successfully",
      "Verify no race conditions",
      "Verify results don't get mixed up"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Browser refresh preserves selected DR",
    "steps": [
      "Select a DR from list",
      "Refresh page (F5)",
      "Verify same DR is selected after reload",
      "Verify evaluation results still show"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Back button works correctly",
    "steps": [
      "Navigate to /foto-review",
      "Select a DR",
      "Click browser back button",
      "Verify appropriate behavior (depends on design)",
      "Click forward button",
      "Verify page state is restored"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Keyboard navigation works throughout page",
    "steps": [
      "Navigate to /foto-review",
      "Use only keyboard (Tab, Enter, Escape)",
      "Verify can navigate DR list",
      "Verify can trigger evaluation",
      "Verify can send feedback",
      "Verify focus indicators are visible",
      "Verify no keyboard traps"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Screen reader accessibility is implemented",
    "steps": [
      "Enable screen reader (NVDA/JAWS/VoiceOver)",
      "Navigate page",
      "Verify headings are announced",
      "Verify buttons are labeled",
      "Verify images have alt text",
      "Verify form fields are labeled",
      "Verify status updates are announced (aria-live)"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "ARIA attributes are used correctly",
    "steps": [
      "Inspect page HTML",
      "Verify role attributes where needed",
      "Verify aria-label on icon buttons",
      "Verify aria-expanded on dropdowns",
      "Verify aria-live for dynamic content",
      "Run axe DevTools accessibility audit",
      "Verify no critical issues"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Color is not the only means of conveying information",
    "steps": [
      "Enable browser color blindness simulator",
      "View PASS/FAIL status",
      "Verify status is clear without color (icons, text)",
      "Verify all status information has text labels",
      "Verify graphs/charts have patterns or labels"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Page works in major browsers (Chrome, Firefox, Safari, Edge)",
    "steps": [
      "Open page in Chrome",
      "Verify all features work",
      "Open page in Firefox",
      "Verify all features work",
      "Open page in Safari",
      "Verify all features work",
      "Open page in Edge",
      "Verify all features work",
      "Check for browser-specific bugs"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Page works on iOS Safari",
    "steps": [
      "Open page on iPhone/iPad",
      "Verify layout renders correctly",
      "Verify touch interactions work",
      "Verify photo zoom works",
      "Verify no iOS-specific bugs",
      "Test on multiple iOS versions if possible"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Page works on Android Chrome",
    "steps": [
      "Open page on Android device",
      "Verify layout renders correctly",
      "Verify touch interactions work",
      "Verify no Android-specific bugs",
      "Test on multiple Android versions if possible"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Python script handles missing photos gracefully",
    "steps": [
      "Run evaluate_dr.py for DR with missing photos",
      "Verify script doesn't crash",
      "Verify error is logged",
      "Verify partial results returned if possible",
      "Verify appropriate error message in output"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Python script handles OpenAI API errors gracefully",
    "steps": [
      "Simulate OpenAI API error (invalid key, rate limit)",
      "Run evaluation",
      "Verify error is caught",
      "Verify error message is descriptive",
      "Verify script exits cleanly",
      "Verify error is propagated to API route"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Python script respects rate limits",
    "steps": [
      "Trigger multiple evaluations rapidly",
      "Verify script doesn't exceed OpenAI rate limits",
      "Verify retries with backoff if rate limited",
      "Verify eventually completes successfully"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Python script output is valid JSON",
    "steps": [
      "Run evaluate_dr.py",
      "Capture stdout",
      "Parse output as JSON",
      "Verify no JSON parse errors",
      "Verify output matches expected schema",
      "Verify special characters are escaped properly"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Python script logs are useful for debugging",
    "steps": [
      "Run evaluation",
      "Check Python script logs",
      "Verify log level is appropriate (INFO in prod, DEBUG in dev)",
      "Verify logs show progress",
      "Verify errors are logged with stack traces",
      "Verify sensitive data is not logged"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Environment variables are loaded correctly in Python",
    "steps": [
      "Check Python .env file",
      "Verify OPENAI_API_KEY is set",
      "Verify DATABASE_URL is set",
      "Verify all required vars present",
      "Run script and verify vars are read",
      "Verify script errors if vars missing"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "All 12 step prompts are implemented in foto_prompts.py",
    "steps": [
      "Open foto_prompts.py",
      "Count number of step prompts",
      "Verify exactly 12 steps defined",
      "Verify each step has clear evaluation criteria",
      "Verify prompts align with installation standards",
      "Verify prompts request scoring 0-10"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Step prompts match installation procedure",
    "steps": [
      "Review installation SOP document",
      "Compare to foto_prompts.py steps",
      "Verify step 1: House photo",
      "Verify step 2: Cable span",
      "Verify step 3: ONT barcode",
      "Verify remaining 9 steps match SOP",
      "Verify order is logical"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "AI evaluations are consistent across runs",
    "steps": [
      "Evaluate same DR multiple times",
      "Compare results",
      "Verify scores are similar (within 10%)",
      "Verify PASS/FAIL status is consistent",
      "Verify major issues are always caught"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "AI catches obviously bad photos",
    "steps": [
      "Prepare DR with clearly bad photos (blurry, wrong angle, etc.)",
      "Run evaluation",
      "Verify AI identifies issues",
      "Verify scores are appropriately low",
      "Verify comments explain what's wrong"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "AI approves clearly good photos",
    "steps": [
      "Prepare DR with high-quality photos",
      "Run evaluation",
      "Verify AI gives high scores",
      "Verify PASS status",
      "Verify comments are positive"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Markdown report is generated correctly",
    "steps": [
      "Run evaluation",
      "Check database for markdown_report column",
      "Verify markdown is valid",
      "Verify report includes all step results",
      "Verify report is formatted professionally",
      "Render markdown to verify appearance"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Overall score is calculated correctly",
    "steps": [
      "Run evaluation",
      "Verify average_score equals mean of step scores",
      "Manually calculate average",
      "Compare to database value",
      "Verify rounding to 1 decimal place"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Overall PASS/FAIL threshold is sensible",
    "steps": [
      "Review PASS/FAIL logic",
      "Verify threshold (e.g., 7.0/10)",
      "Test edge cases (exactly 7.0)",
      "Verify threshold aligns with business requirements",
      "Test with various scores to verify cutoff"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Step results are stored as valid JSONB",
    "steps": [
      "Run evaluation",
      "Query step_results column",
      "Verify JSONB is valid",
      "Verify structure is consistent",
      "Query specific step using JSONB operators",
      "Verify indexing works if implemented"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Timestamps use UTC consistently",
    "steps": [
      "Run evaluation",
      "Check evaluation_date, created_at, updated_at",
      "Verify all are in UTC",
      "Verify timezone is not stored (or is explicitly UTC)",
      "Compare timestamps to server time",
      "Verify frontend converts to local time for display"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Database migrations run successfully",
    "steps": [
      "If migration system exists, run migrations",
      "Verify foto_ai_reviews table created",
      "Verify schema matches expected",
      "Rollback migration",
      "Verify table dropped",
      "Re-run migration",
      "Verify idempotency"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Database indexes improve query performance",
    "steps": [
      "Query foto_ai_reviews with various filters",
      "Check query execution plan",
      "Verify indexes are used",
      "Measure query time",
      "Verify queries complete in < 100ms for typical data"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Code follows FibreFlow conventions",
    "steps": [
      "Review new code",
      "Compare to existing modules (wa-monitor)",
      "Verify file naming matches",
      "Verify folder structure matches",
      "Verify import patterns match",
      "Verify no violations of project standards"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "All TypeScript files have no errors",
    "steps": [
      "Run: npm run type-check",
      "Verify zero TypeScript errors",
      "Check foto-review module specifically",
      "Verify no any types unless justified",
      "Verify all props are typed"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "ESLint passes with no errors",
    "steps": [
      "Run: npm run lint",
      "Verify zero ESLint errors",
      "Check foto-review module specifically",
      "Fix any warnings",
      "Verify code style is consistent"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "All imports use correct paths (@/ aliases)",
    "steps": [
      "Review all new files",
      "Verify imports use @/components, @/services, etc.",
      "Verify no relative paths like ../../../../",
      "Verify paths resolve correctly",
      "Run build to verify no resolution errors"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "No console.log statements in production code",
    "steps": [
      "Search codebase for console.log",
      "Verify no console.logs in foto-review module",
      "Verify proper logging is used instead",
      "Check build output for console warnings"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Error messages are user-friendly",
    "steps": [
      "Trigger various errors",
      "Read error messages",
      "Verify no technical jargon",
      "Verify messages explain what happened",
      "Verify messages suggest next steps",
      "Verify no stack traces shown to users"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Success messages are clear and positive",
    "steps": [
      "Complete successful actions",
      "Read success messages",
      "Verify messages confirm what happened",
      "Verify tone is positive",
      "Verify messages aren't overly verbose"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Loading messages inform user of progress",
    "steps": [
      "Trigger long-running action (evaluation)",
      "Read loading message",
      "Verify message describes what's happening",
      "Verify message changes if steps progress",
      "Verify user isn't left wondering if app is frozen"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "All external links open in new tab",
    "steps": [
      "Find any external links on page",
      "Click link",
      "Verify opens in new tab (target=_blank)",
      "Verify rel=noopener noreferrer for security"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Images have proper alt text",
    "steps": [
      "Inspect all images",
      "Verify alt attribute exists",
      "Verify alt text is descriptive",
      "Verify decorative images use alt=\"\"",
      "Run accessibility audit"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Form inputs have proper labels",
    "steps": [
      "Find all form inputs (filters, etc.)",
      "Verify each has associated label",
      "Verify label is properly linked (for attribute)",
      "Verify placeholders don't replace labels",
      "Test with screen reader"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Module README is comprehensive",
    "steps": [
      "Open src/modules/foto-review/README.md",
      "Verify overview section exists",
      "Verify features are documented",
      "Verify API usage is documented",
      "Verify examples are provided",
      "Verify README is accurate and up-to-date"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "API endpoints are documented",
    "steps": [
      "Find API documentation (comments or separate doc)",
      "Verify each endpoint is documented",
      "Verify request format is specified",
      "Verify response format is specified",
      "Verify error codes are documented",
      "Verify authentication requirements are clear"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "TypeScript types are well-documented with JSDoc",
    "steps": [
      "Open types/index.ts",
      "Verify each interface has JSDoc comment",
      "Verify each property has description",
      "Verify examples are provided where helpful",
      "Verify JSDoc appears in IDE tooltips"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Component tests exist and pass",
    "steps": [
      "Find component test files",
      "Run: npm test",
      "Verify PhotoGallery tests pass",
      "Verify AIEvaluationCard tests pass",
      "Verify EvaluationResults tests pass",
      "Verify FeedbackButton tests pass",
      "Verify code coverage is reasonable"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Integration tests exist and pass",
    "steps": [
      "Find integration test files",
      "Run integration tests",
      "Verify API route tests pass",
      "Verify database tests pass",
      "Verify Python integration tests pass"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "E2E tests exist and pass",
    "steps": [
      "Find e2e test files (Playwright/Cypress)",
      "Run: npm run test:e2e",
      "Verify navigation test passes",
      "Verify evaluation flow test passes",
      "Verify feedback flow test passes",
      "Verify all critical paths covered"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Build completes successfully",
    "steps": [
      "Run: npm run build",
      "Verify build completes without errors",
      "Verify no warnings about foto-review module",
      "Verify bundle size is reasonable",
      "Verify build artifacts are created"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Production build is optimized",
    "steps": [
      "Build for production",
      "Check bundle analyzer if available",
      "Verify code splitting is working",
      "Verify tree shaking removed unused code",
      "Verify images are optimized",
      "Verify CSS is minified"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Application deploys to Vercel successfully",
    "steps": [
      "Push code to main branch",
      "Verify Vercel auto-deploys",
      "Check deployment logs",
      "Verify deployment succeeds",
      "Verify no deployment errors"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Production app is accessible at URL",
    "steps": [
      "Navigate to https://app.fibreflow.app/foto-review",
      "Verify page loads",
      "Verify no production-only errors",
      "Verify all features work in production",
      "Check browser console for errors"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Production environment variables are configured",
    "steps": [
      "Check Vercel environment variables",
      "Verify OPENAI_API_KEY is set",
      "Verify DATABASE_URL is set",
      "Verify all required vars present",
      "Verify no sensitive data in client bundle"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "SSL certificate is valid",
    "steps": [
      "Navigate to https://app.fibreflow.app/foto-review",
      "Check SSL certificate",
      "Verify certificate is valid",
      "Verify certificate is not expired",
      "Verify no mixed content warnings"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Production app performs well",
    "steps": [
      "Open production app",
      "Run Lighthouse audit",
      "Verify Performance score > 80",
      "Verify Accessibility score > 90",
      "Verify Best Practices score > 90",
      "Verify SEO score > 80"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Production app is secure",
    "steps": [
      "Run security audit",
      "Verify no XSS vulnerabilities",
      "Verify no SQL injection vulnerabilities",
      "Verify CSRF protection",
      "Verify authentication is enforced",
      "Verify sensitive data is not exposed"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Production API endpoints require authentication",
    "steps": [
      "Test production API without auth",
      "Verify 401 errors returned",
      "Test with auth token",
      "Verify requests succeed",
      "Verify no bypass possible"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Production database connections are secure",
    "steps": [
      "Verify SSL is used for database connection",
      "Verify connection pooling is configured",
      "Verify credentials are not in source code",
      "Verify credentials are in environment variables",
      "Test connection from production"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Real DR can be evaluated end-to-end in production",
    "steps": [
      "Login to production app",
      "Navigate to /foto-review",
      "Select real DR with photos",
      "Click 'Evaluate with AI'",
      "Wait for evaluation to complete",
      "Verify results are accurate",
      "Verify results are saved to database"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Real WhatsApp feedback can be sent in production",
    "steps": [
      "Evaluate a DR in production",
      "Click 'Send Feedback'",
      "Confirm sending",
      "Verify success message",
      "Check WhatsApp group",
      "Verify message received",
      "Verify message content is correct"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Production monitoring and logs are accessible",
    "steps": [
      "Access Vercel dashboard",
      "Check application logs",
      "Verify logs are being collected",
      "Check for error logs",
      "Verify log level is appropriate",
      "Set up alerts for critical errors if not done"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Error tracking is configured",
    "steps": [
      "Verify error tracking service is configured (Sentry, etc.)",
      "Trigger an error in production",
      "Verify error is captured",
      "Verify error details are useful",
      "Verify alerts are sent if configured"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Performance monitoring is configured",
    "steps": [
      "Check if performance monitoring exists",
      "Verify key metrics are tracked (page load, API response time)",
      "Verify dashboards are accessible",
      "Verify alerts for performance degradation"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Backup and recovery plan exists",
    "steps": [
      "Verify database backups are configured",
      "Verify backup frequency is appropriate",
      "Verify backups can be restored",
      "Document recovery procedure"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Rate limiting is implemented for evaluation endpoint",
    "steps": [
      "Make many rapid evaluation requests",
      "Verify rate limiting kicks in",
      "Verify 429 Too Many Requests returned",
      "Verify rate limit is reasonable",
      "Verify legitimate users aren't blocked"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "API responses are cached where appropriate",
    "steps": [
      "Make request to GET /api/foto/evaluation/[dr]",
      "Check response headers for cache headers",
      "Make same request again",
      "Verify faster response (cached)",
      "Verify cache invalidation works when evaluation re-run"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Images are optimized for web delivery",
    "steps": [
      "Check photo sizes",
      "Verify images are compressed",
      "Verify responsive images used (srcset)",
      "Verify lazy loading is implemented",
      "Verify modern formats (WebP) if supported"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "CDN is used for static assets",
    "steps": [
      "Inspect network requests",
      "Verify static assets served from CDN",
      "Verify CDN headers present",
      "Verify fast asset loading"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Application is resilient to partial failures",
    "steps": [
      "Simulate Python service down",
      "Verify UI shows error but doesn't crash",
      "Verify other features still work",
      "Simulate database slow",
      "Verify graceful degradation"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Application has appropriate timeouts",
    "steps": [
      "Trigger long-running evaluation",
      "Verify timeout after reasonable period (e.g., 60s)",
      "Verify timeout error is shown",
      "Verify app doesn't hang indefinitely"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Application handles concurrent users",
    "steps": [
      "Simulate multiple users accessing /foto-review",
      "Verify all users can work independently",
      "Verify no data leakage between users",
      "Verify no race conditions"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Application memory usage is reasonable",
    "steps": [
      "Monitor production app memory",
      "Verify no memory leaks",
      "Verify memory usage is stable over time",
      "Load test with many evaluations",
      "Verify memory is released after operations"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Application CPU usage is reasonable",
    "steps": [
      "Monitor production app CPU",
      "Trigger evaluations",
      "Verify CPU spikes are temporary",
      "Verify CPU returns to baseline",
      "Verify no CPU spin loops"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Search functionality works if implemented",
    "steps": [
      "If search exists, locate search box",
      "Search for DR number",
      "Verify DR is found",
      "Search with partial number",
      "Verify fuzzy search works",
      "Verify search is performant"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Export functionality works if implemented",
    "steps": [
      "If export exists, click export button",
      "Verify CSV/Excel file downloads",
      "Open file",
      "Verify data is correct",
      "Verify formatting is proper",
      "Verify all columns present"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Pagination works if implemented",
    "steps": [
      "If pagination exists, verify page 1 loads",
      "Click next page",
      "Verify page 2 loads",
      "Verify different DRs shown",
      "Click previous",
      "Verify returns to page 1"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Sorting works if implemented",
    "steps": [
      "If sorting exists, click column header",
      "Verify list sorts ascending",
      "Click again",
      "Verify list sorts descending",
      "Verify sort is accurate"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Overall user experience is polished",
    "steps": [
      "Use entire flow end-to-end",
      "Verify interactions feel smooth",
      "Verify no jarring transitions",
      "Verify loading states don't flicker",
      "Verify animations enhance UX (not distract)",
      "Verify flow is intuitive"
    ],
    "passes": false
  },
  {
    "category": "style",
    "description": "Design is consistent with FibreFlow brand",
    "steps": [
      "Compare to FibreFlow style guide if exists",
      "Verify colors match brand",
      "Verify fonts match brand",
      "Verify tone of voice matches",
      "Verify logo usage is correct"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Code is ready for handoff to another developer",
    "steps": [
      "Review all code and documentation",
      "Verify README is complete",
      "Verify setup instructions are clear",
      "Verify dependencies are documented",
      "Verify code is well-commented",
      "Verify another developer could continue work"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "All acceptance criteria from spec are met",
    "steps": [
      "Review project specification",
      "Check each acceptance criteria",
      "Verify module structure matches spec",
      "Verify page features match spec",
      "Verify API endpoints match spec",
      "Verify WhatsApp integration matches spec",
      "Verify all must-have items are complete"
    ],
    "passes": false
  },
  {
    "category": "functional",
    "description": "Project stakeholders approve implementation",
    "steps": [
      "Demo to stakeholders",
      "Walk through key features",
      "Show evaluation results",
      "Show WhatsApp feedback",
      "Gather feedback",
      "Address any concerns",
      "Get approval to deploy"
    ],
    "passes": false
  }
]