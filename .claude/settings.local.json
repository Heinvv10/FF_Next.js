{
  "permissions": {
    "allow": [
      "Bash(git add:*)",
      "Bash(sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password root@72.60.17.245 \"grep ''DR1734338'' /opt/wa-monitor/prod/logs/wa-monitor-prod.log\")",
      "Bash(git commit:*)",
      "Bash(sshpass:*)",
      "Bash(psql:*)",
      "Bash(npm run build:*)",
      "Bash(git push:*)",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -n ''95,120p'' /opt/wa-monitor/prod/modules/database.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -n ''170,195p'' /opt/wa-monitor/prod/modules/monitor.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"cd /var/www/fibreflow && npm run build && pm2 restart fibreflow-prod\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -n ''186,202p'' /opt/wa-monitor/prod/modules/monitor.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -i ''189s/return self.db.handle_resubmission(drop_number, project_name, resolved_phone)/return self.db.handle_resubmission(drop_number, project_name, resolved_phone, message[\"\"timestamp\"\"])/'' /opt/wa-monitor/prod/modules/monitor.py && echo ''monitor.py updated'' && sed -n ''189p'' /opt/wa-monitor/prod/modules/monitor.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"curl -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-12\"\"}''\")",
      "Read(//home/louisdup/Downloads/**)",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -n ''113,120p'' /opt/wa-monitor/prod/modules/database.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-12\"\"}'' | jq .\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -i ''116i\\                message_timestamp,'' /opt/wa-monitor/prod/modules/database.py && echo ''Added message_timestamp'' && sed -n ''113,121p'' /opt/wa-monitor/prod/modules/database.py\")",
      "Bash(awk:*)",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"/opt/wa-monitor/prod/restart-monitor.sh\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"psql ''postgresql://neondb_owner:npg_aRNLhZc1G2CD@ep-dry-night-a9qyh4sj-pooler.gwc.azure.neon.tech/neondb?sslmode=require'' -c \"\"SELECT DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg'') as date, project, COUNT(DISTINCT drop_number) as drops FROM qa_photo_reviews WHERE DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg'') IN (''2025-11-10'', ''2025-11-11'', ''2025-11-12'') GROUP BY DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg''), project ORDER BY date, project;\"\"\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -i ''s/whatsapp_message_date = TO_TIMESTAMP(%s)/whatsapp_message_date = %s::timestamptz/'' /opt/wa-monitor/prod/modules/database.py && echo ''Fixed TO_TIMESTAMP'' && sed -n ''109p'' /opt/wa-monitor/prod/modules/database.py\")",
      "Bash(curl:*)",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -i ''/whatsapp_message_date = %s::timestamptz,/d'' /opt/wa-monitor/prod/modules/database.py && echo ''Removed whatsapp_message_date update from resubmission handler'' && sed -n ''107,111p'' /opt/wa-monitor/prod/modules/database.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -i ''/^                message_timestamp,$/d'' /opt/wa-monitor/prod/modules/database.py && echo ''Removed message_timestamp from execute params'' && sed -n ''113,118p'' /opt/wa-monitor/prod/modules/database.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -i ''s/return self.db.handle_resubmission(drop_number, project_name, resolved_phone, message\\[\"\"timestamp\"\"\\])/return self.db.handle_resubmission(drop_number, project_name, resolved_phone)/'' /opt/wa-monitor/prod/modules/monitor.py && echo ''Removed timestamp from monitor.py'' && sed -n ''189p'' /opt/wa-monitor/prod/modules/monitor.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"sed -i ''s/def handle_resubmission(self, drop_number: str, project: str, resolved_phone: str, message_timestamp: int) -> bool:/def handle_resubmission(self, drop_number: str, project: str, resolved_phone: str) -> bool:/'' /opt/wa-monitor/prod/modules/database.py && echo ''Updated function signature'' && sed -n ''95p'' /opt/wa-monitor/prod/modules/database.py\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"cd /var/www/fibreflow && git pull && psql ''postgresql://neondb_owner:npg_aRNLhZc1G2CD@ep-dry-night-a9qyh4sj-pooler.gwc.azure.neon.tech/neondb?sslmode=require'' -f scripts/migrations/add-sharepoint-sync-state.sql && npm run build && pm2 restart fibreflow-prod && echo ''✅ Deployed with database counter''\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' | jq .\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"psql ''postgresql://neondb_owner:npg_aRNLhZc1G2CD@ep-dry-night-a9qyh4sj-pooler.gwc.azure.neon.tech/neondb?sslmode=require'' -c \"\"SELECT DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg'') as date, project, COUNT(DISTINCT drop_number) as drops FROM qa_photo_reviews WHERE DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg'') = CURRENT_DATE GROUP BY DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg''), project ORDER BY project;\"\"\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-10\"\"}'' && echo '''' && sleep 3 && curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-11\"\"}'' && echo '''' && sleep 3 && curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-12\"\"}'' && echo '''' && sleep 3 && curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-13\"\"}'' | jq .\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"cd /var/www/fibreflow && git pull && npm run build && pm2 restart fibreflow-prod\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"cd /var/www/fibreflow && git pull && npm run build && pm2 restart fibreflow-prod && echo ''✅ Deployed timezone fix v2''\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"echo ''Syncing Nov 10-13...'' && curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-10\"\"}'' | jq ''.data.projects'' && sleep 3 && curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-11\"\"}'' | jq ''.data.projects'' && sleep 3 && curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-12\"\"}'' | jq ''.data.projects'' && sleep 3 && curl -s -X POST http://localhost:3005/api/wa-monitor-sync-sharepoint -H ''Content-Type: application/json'' -d ''{\"\"date\"\": \"\"2025-11-13\"\"}'' | jq ''.data.projects''\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"psql ''postgresql://neondb_owner:npg_aRNLhZc1G2CD@ep-dry-night-a9qyh4sj-pooler.gwc.azure.neon.tech/neondb?sslmode=require'' -c \"\"SELECT DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg'') as date, project, COUNT(DISTINCT drop_number) as drops FROM qa_photo_reviews WHERE DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg'') BETWEEN ''2025-11-10'' AND ''2025-11-13'' GROUP BY DATE(whatsapp_message_date AT TIME ZONE ''Africa/Johannesburg''), project ORDER BY date, project;\"\"\")",
      "Bash(SSH_AUTH_SOCK=\"\" sshpass -p 'VeloF@2025@@' ssh -o StrictHostKeyChecking=no -o PreferredAuthentications=password -o PubkeyAuthentication=no root@72.60.17.245 \"cd /var/www/fibreflow && git pull && npm ci && npm run build && pm2 restart fibreflow-prod && echo ''✅ Deployed Projects Dashboard to production''\")",
      "Bash(cat:*)",
      "Bash(ls:*)"
    ],
    "deny": [],
    "ask": [],
    "additionalDirectories": [
      "C:\\Jarvis\\AI Workspace",
      "C:\\tmp",
      "C:\\c\\Jarvis\\AI Workspace"
    ]
  }
}